<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <title></title>
  <script>
//    Question 1: Fix the code below
//
//    function Car(name) {
//      this.name = name;
//    }
//
//    Car.prototype.position = {
//      x: 0,
//      y: 0
//    };
//
//    Car.prototype.move = function(x, y) {
//      this.position.x += x;
//      this.position.y += y;
//    }
//
//    Car.prototype.logPosition = function() {
//      return ('Car ' + this.name + ' is at ' + [this.position.x, this.position.y].join(',') );
//    }
//
//    // If Crockford was your boss, you couldn’t use `new`. How would you create new instances of Car?
//    //var car = new Car('Fittipaldi');
//    //var car2 =  new Car('Senna');
//
//    car.move(2, 3);
//    car2.move(4, 5);
//
//    console.log(car.logPosition());
//    console.log(car2.logPosition());

//----------------------------------------------------------------------------

//    /* Stage 1 solution */
//
//    function Car(name) {
//      this.name = name;
//    }
//
//    Car.prototype.position = {
//      x: 0,
//      y: 0
//    };
//
//    Car.prototype.move = function(x, y) {
//      this.position.x += x;
//      this.position.y += y;
//    }
//
//    Car.prototype.logPosition = function() {
//      return ('Car ' + this.name + ' is at ' + [this.position.x, this.position.y].join(',') );
//    }
//
//    // If Crockford was your boss, you couldn’t use `new`. How would you create new instances of Car?
//    //var car = new Car('Fittipaldi');
//    //var car2 =  new Car('Senna');
//
//    var car = Object.create(Car.prototype);  //small p
//    car.name = 'Fittipaldi';
//    var car2 = Object.create(Car.prototype);
//    car2.name = 'Senna'
//
//    car.move(2, 3);
//    car2.move(4, 5);
//
//    console.log(car.logPosition());  //Car Fittipaldi is at 6,8
//    console.log(car2.logPosition()); // Car Senna is at 6,8

//    *****NOTE: Both log the same, as both car and car2 objects share the SAME prototype.
//    For both objects having different instances of move(), it needs to be defined not in the prototype but in the constructor function itslef.


      /* FINAL SOLUTION */
    function Car(name) {
      this.name = name;
      this.position = {
        x: 0,
        y: 0
      }
    }
    Car.prototype.move = function(x, y) {
      this.position.x += x;
      this.position.y += y;
    }

    Car.prototype.logPosition = function() {
      return ('Car ' + this.name + ' is at ' + [this.position.x, this.position.y].join(',') );
    }

    // If Crockford was your boss, you couldn’t use `new`. How would you create new instances of Car?
    //var car = new Car('Fittipaldi');
    //var car2 =  new Car('Senna');

    var car = Object.create(Car.prototype);  //small p
    Car.call(car, 'Fittipaldi')
    var car2 = Object.create(Car.prototype);
    Car.call(car2, 'Senna');

    car.move(2, 3);
    car2.move(4, 5);

    console.log(car.logPosition());  //Car Fittipaldi is at 2,3
    console.log(car2.logPosition()); // Car Senna is at 4,5

//----------------------------------------------------------------------------
//    Question:
//    i/p:  [['a', 1], ['b', 2], ['c', 3]]; //array of arrays
//    o/p: {a: 1, b: 2, c: 3} //single object
//    Array.reduce() has to be used, and fix the below method

//    function toObject(array) {
//      return array.reduce(function(previous, current){
//        previous[current[0]] = current[1];
//      }, {});
//    }

//  The reduce() method reduces the array to a single value.

//  The reduce() method executes a provided function for each value of the array (from left-to-right).

//  The return value of the function is stored in an accumulator (result/total). Here in toObject(), it is previous

    function toObject(array) {
      return array.reduce(function(previous, current){
        previous[current[0]] = current[1];
        return previous;
      }, {});
    }
    
    console.log(toObject([['a', 1], ['b', 2], ['c', 3]]));
  </script>
</head>
<body>
</body>
</html>